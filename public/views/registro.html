<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Registro de usuario</title>
  <link rel="stylesheet" href="../css/registro.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  
</head>
<body>
  <main class="container">
    <section class="card info" aria-labelledby="welcome">
      <div class="logo">
        <div class="mark">CP</div>
        <div>
            
          <div style="font-weight:700">Apis</div>
          <div style="font-size:13px;color:var(--muted)">Bienvenido — Crea tu cuenta</div>
        </div>
      </div>

      <h1 id="welcome">Crea tu perfil</h1>
      <p class="lead">Regístrate en segundos. Mantén tu información segura. Después podrás iniciar sesión y personalizar tu perfil.</p>

      <div style="display:flex;gap:12px;margin-top:8px;align-items:center">
        <div style="flex:1">
          <div class="small"><strong>Protegemos tus datos</strong></div>
          <div class="small">No compartiremos tu información con terceros.</div>
        </div>
        <div class="avatar-preview" aria-hidden="true">
          <!-- placeholder avatar -->
          <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2c-3.866 0-7 3.134-7 7h14c0-3.866-3.134-7-7-7z" fill="rgba(255,255,255,0.18)"/></svg>
        </div>
      </div>

      <footer>
        <div style="font-weight:600">¿Tienes cuenta?</div>
        <div class="muted-link">Inicia sesión aquí.</div>
      </footer>
    </section>

    <section class="card" aria-labelledby="form-title">
      <h2 id="form-title" style="margin:0 0 8px 0">Registro</h2>
      <form id="registerForm" autocomplete="on" novalidate>
        <div class="row">
          <div class="col">
            <label for="nombre">Nombres</label>
            <input id="nombre" name="nombre" type="text" placeholder="Tu nombre completo" required>
          </div>
          <div class="col">
            <label for="usuario">Usuario</label>
            <input id="usuario" name="usuario" type="text" placeholder="Nombre de usuario" required>
          </div>
        </div>

        <label for="email">Correo electrónico</label>
        <input id="email" name="email" type="email" placeholder="tucorreo@ejemplo.com" required>

        <div class="row">
          <div class="col">
            <label for="password">Contraseña</label>
            <input id="password" name="password" type="password" placeholder="Mínimo 8 caracteres" minlength="8" required>
          </div>
          <div class="col">
            <label for="confirm">Confirmar contraseña</label>
            <input id="confirm" name="confirm" type="password" placeholder="Repite la contraseña" minlength="8" required>
          </div>
        </div>

        <div style="display:flex;gap:12px;align-items:center;margin-top:6px">
          <div style="flex:1">
            <label for="avatar" style="display:block;margin-bottom:6px">Foto de perfil (opcional)</label>
            <input id="avatar" name="avatar" type="file" accept="image/*">
            <div class="small">PNG, JPG o GIF — máximo 2MB.</div>
          </div>
          <div style="width:92px;display:flex;align-items:center;justify-content:center">
            <div id="thumb" class="avatar-preview" aria-hidden="true"></div>
          </div>
        </div>

        <div class="terms">
          <input id="terms" name="terms" type="checkbox" required>
          <label for="terms">Acepto los <a href="#" style="color:inherit;text-decoration:underline">términos y condiciones</a></label>
        </div>

        <button class="btn" type="submit">Crear cuenta</button>

        <div class="or" style="margin-top:6px">o regístrate con</div>

        <div style="display:flex;gap:8px;margin-top:8px">
          <button type="button" class="secondary" aria-label="Continue with Google">Google</button>
          <button type="button" class="secondary" aria-label="Continue with Facebook">Facebook</button>
          <button type="button" class="secondary" aria-label="Continue with Apple">Apple</button>
        </div>

        <div id="message" class="small" role="status" aria-live="polite"></div>
      </form>

      <script>
        // Tiny client-side validation and avatar preview
        const form = document.getElementById('registerForm');
        const password = document.getElementById('password');
        const confirm = document.getElementById('confirm');
        const message = document.getElementById('message');
        const avatar = document.getElementById('avatar');
        const thumb = document.getElementById('thumb');

        avatar.addEventListener('change', e => {
          const file = e.target.files[0];
          if(!file) { thumb.innerHTML=''; return }
          if(file.size > 2 * 1024 * 1024){ thumb.innerHTML = '<div class="error">Archivo demasiado grande</div>'; return }
          const img = document.createElement('img');
          img.src = URL.createObjectURL(file);
          img.onload = () => URL.revokeObjectURL(img.src);
          thumb.innerHTML = '';
          thumb.appendChild(img);
        });

        form.addEventListener('submit', e => {
          e.preventDefault();
          message.textContent = '';

          if(password.value !== confirm.value){
            message.textContent = 'Las contraseñas no coinciden.';
            message.className = 'error';
            return;
          }

          if(!form.checkValidity()){
            message.textContent = 'Completa los campos requeridos.';
            message.className = 'error';
            return;
          }

          // Aquí iría la petición al servidor (fetch / axios)
          message.textContent = 'Cuenta creada correctamente (simulado).';
          message.className = 'success';

          // reset parcial
          // form.reset();
        });
      </script>
    </section>
  </main>
</body>
</html>
